import{a3 as s,o as _,c as u,P as n,i as A,r as p,a as t,R as l,M as c,J as w,a4 as h}from"./index-afac00db.js";import{$ as B}from"./jquery-d101e3c6.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";function L(v,d){return new Promise(function(i,k){B.ajax({url:"https://apis.map.qq.com/ws/geocoder/v1/?location="+d+","+v+"&key=J4PBZ-YNE6K-YTSJR-AGXXU-ITI6H-Y4FJV&get_poi=1&output=jsonp&callback=?",type:"get",dataType:"jsonp",success:function(o){o&&o.result&&o.result.address_component?i(o.result.address_component):i({})}})})}const N={},P={class:"near_search_box"};function D(v,d){const i=s("van-nav-bar");return _(),u("div",P,[n(i,{"left-arrow":"",title:"页面标题"})])}const E=J(N,[["render",D]]);const T={class:"near_box"},Y={id:"first_row"},$={class:"first_row_col2"},q={class:"noticebar"},F={class:"wanrn_detaill"},M={class:"classification"},G={__name:"near",setup(v){A(()=>{I()});const d=[{image:"./bridge.png",text:"水文站"},{image:"./park.png",text:"人工渠"},{image:"./reservoir.png",text:"河流"},{image:"./reserve.png",text:"湖泊"},{image:"./AI.png",text:"灾害"},{image:"./AI.png",text:"人文活动"},{image:"./AI.png",text:"城市景点"},{image:"./tunnel.png",text:"文化遗产"},{image:"./tunnel.png",text:"博物馆"},{image:"./tunnel.png",text:"更多"}],i=[{image:"./wind/wind-blue.png",text:"普宁市气象台发布大风蓝色预警",time:"2023年7月6日",city:"普宁市",back:"red"},{image:"./wind/wind-orange.png",text:"河源市气象台发布大风橙色预警",time:"2023年7月7日",city:"河源市",back:"red"},{image:"./wind/wind-red.png",text:"东莞市气象台发布大风红色色预警",time:"2023年7月10日",city:"东莞市",back:"red"}],k=[{image:"./testdetail.png",text:"广东省河源市和平县优胜镇，辖区面积117.31平方千米",city:"优胜镇"},{image:"./testdetail.png",text:"广东省河源市和平县上陵镇，辖区面积117.31平方千米",city:"上陵镇"},{image:"./testdetail.png",text:"广东省河源市和平县合水镇，辖区面积147.31平方千米",city:"合水镇"},{image:"./testdetail.png",text:"广东省河源市和平县下车镇，辖区面积107.31平方千米",city:"下车镇"},{image:"./testdetail.png",text:"广东省河源市和平县长安镇，辖区面积116.31平方千米）",city:"长安镇"}],o=p(null),m=p(null),b=p(null),C=p(null),I=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{o.value=a.coords.latitude,m.value=a.coords.longitude;const g=o.value,f=m.value;b.value=null,L(f,g).then(r=>{console.log(r),r.street&&(console.log(),console.log("location.street",r.street),C.value=r.street)})},a=>{a.value=a.message,o.value=null,m.value=null}):b.value="浏览器不支持地理位置获取"};return(a,g)=>{const f=s("van-icon"),r=s("van-search"),x=s("van-image"),y=s("van-col"),S=s("van-row"),V=s("van-swipe-item"),j=s("van-swipe");return _(),u("div",T,[n(E,{class:"near-search"}),t("div",Y,[t("div",{class:"first_row_col1",onClick:I},[n(f,{name:"location"}),t("span",null,l(C.value),1)]),t("div",$,[n(r,{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=e=>a.value=e),placeholder:"搜索附近",onSearch:a.onSearch,onCancel:a.onCancel},null,8,["modelValue","onSearch","onCancel"])])]),t("div",null,[n(S,null,{default:c(()=>[(_(),u(w,null,h(d,e=>n(y,{id:"each_detail",key:e.text,span:4.8},{default:c(()=>[n(x,{src:e.image,fit:"contain"},null,8,["src"]),t("p",null,l(e.text),1)]),_:2},1032,["span"])),64))]),_:1})]),t("div",q,[n(j,{class:"wanring-swipe",autoplay:3e3,"indicator-color":"gray"},{default:c(()=>[(_(),u(w,null,h(i,e=>n(V,{key:e.text},{default:c(()=>[n(x,{class:"swiperImage",src:e.image,fit:"contain"},null,8,["src"]),t("div",F,[t("div",null,l(e.time),1),t("div",null,l(e.city),1),t("div",null,l(e.text),1)])]),_:2},1024)),64))]),_:1})]),t("div",M,[(_(),u(w,null,h(k,e=>n(S,{key:e.text,class:"each_classify",justify:"center"},{default:c(()=>[n(y,{span:"10"},{default:c(()=>[n(x,{class:"swiperImage",src:e.image,fit:"cover"},null,8,["src"])]),_:2},1024),n(y,{class:"each_classify_detail",span:"14"},{default:c(()=>[t("div",null,l(e.city),1),t("div",null,l(e.text),1)]),_:2},1024)]),_:2},1024)),64))])])}}};export{G as default};
